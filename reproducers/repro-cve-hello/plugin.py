#!/usr/bin/env python3
# plugin.py - minimal reproducer that emits JSON evidence to stdout

import json
import time
import uuid
import socket

def main():
    run_id = str(uuid.uuid4())
    timestamp = time.strftime("%Y-%m-%dT%H:%M:%SZ", time.gmtime())
    evidence = {
        "plugin": "repro-cve-hello",
        "run_id": run_id,
        "status": "success",
        "timestamp": timestamp,
        "details": {
            "message": "hello repro - minimal evidence",
            "hostname": socket.gethostname()
        }
    }
    print(json.dumps(evidence))

    # keep running briefly to simulate work
    time.sleep(1)

if __name__ == "__main__":
    main()

